{"mods":{"mod.l1bqa7yn.0.u4q2273hbjr":{"id":"mod.l1bqa7yn.0.u4q2273hbjr","name":"User","endpoints":{"endp.l1bqs0x4.0.tw5s9su8eb":{"id":"endp.l1bqs0x4.0.tw5s9su8eb","method":"POST","url":"/user/admin/add","short_descr":"Creates a new user in the system","description":"This endpoint creates a valid user in the system, bypassing registration and verification phases.\n","parameters":[{"id":"param.l1bqtelw.0.nd6o7klutpj","name":"email","type":"str","description":"The user email","required":true,"private":false},{"id":"param.l1bqtp8k.0.v3r069ng53a","name":"password","type":"str","description":"The user password","required":true,"private":false},{"id":"param.l1bqtwd8.0.buz35op7e7b","name":"name","type":"str","description":"The user first name","required":false,"private":false},{"id":"param.l1bqu2ck.0.4asxll5n423","name":"lastname","type":"str","description":"The user lastname","required":false,"private":false},{"id":"param.l1bqu7wz.0.02plf5a9c4r","name":"perms","type":"str","description":"User permissions","required":false,"private":false,"is_array":true},{"id":"param.l1bque4z.0.81qhcfkk2gj","name":"enabled","type":"boolean","description":"Flag T/F to know if the user is enabled","required":false,"private":false},{"id":"param.l1bqunzo.0.kduy8hpgf8r","name":"language","type":"str","description":"The user language","required":false,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1bqwa77.0.kyzb832yi":{"id":"endp.l1bqwa77.0.kyzb832yi","method":"PATCH","url":"/user/admin/update","short_descr":"Updates a specified user","description":"","parameters":[{"id":"param.l1bqwske.0.cxtyzr8jwz","name":"id","type":"str","description":"The user id to be changed","required":true,"private":false},{"id":"param.l1bqx1rq.0.9j2ttboth2s","name":"email","type":"str","description":"the new user email","required":false,"private":false},{"id":"param.l1bqx8s0.0.am5ld1wfzeq","name":"password","type":"str","description":"the user password","required":false,"private":false},{"id":"param.l1bqxgse.0.jbcz3vm3qm","name":"name","type":"str","description":"the user first name","required":false,"private":false},{"id":"param.l1bqxl5f.0.edf2m9vjci","name":"lastname","type":"str","description":"the user lastname","required":false,"private":false},{"id":"param.l1bqxnkn.0.qpou17j5x9p","name":"enabled","type":"boolean","description":"If the user is enabled or not","required":false,"private":false},{"id":"param.l1bqxqmj.0.9zipglc1wvq","name":"level","type":"num","description":"The user level","required":false,"private":false},{"id":"param.l1bqy1ek.0.bjvw0nsohr","name":"language","type":"str","description":"The user language","required":false,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1bqyvwn.0.koz41alusbs":{"id":"endp.l1bqyvwn.0.koz41alusbs","method":"DELETE","url":"/user/admin/del","short_descr":"Deletes a user from the system","description":"Deletes a user from the system","parameters":[{"id":"param.l1bqze0x.0.jbrwue1dgv","name":"id_user","type":"str","description":"The user ID to be deleted","required":true,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"str","is_array":false,"returnName":"id_user"},"endp.l1bqzwao.0.tgvf1sk0jon":{"id":"endp.l1bqzwao.0.tgvf1sk0jon","method":"PATCH","url":"/user/admin/fields","short_descr":"Modifies single fields","description":"The call modifies a single field.\nThis function returns the full `User` structure","parameters":[{"id":"param.l1br0n0x.0.oyilgu8jjhi","name":"id","type":"str","description":"the user id","required":true,"private":false},{"id":"param.l1br0ulm.0.nc7yo9c71l","name":"data","type":"json","description":"The field / value to patch","required":true,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1br1j5f.0.001wcj7v7k0uc":{"id":"endp.l1br1j5f.0.001wcj7v7k0uc","method":"POST","url":"/user/register","short_descr":"Start the registration process","description":"Start the registration process of the user.\nThe call creates an entry inside the database (if no error is encountered)\n\nIf in **debug mode** this functyion returns  the `UserActivationCode`\n\n","parameters":[{"id":"param.l1br3eqz.0.foq5nz4h65o","name":"email","type":"str","description":"the new user email","required":true,"private":false},{"id":"param.l1br3k9e.0.1d3mozpqf5v","name":"password","type":"str","description":"the user password","required":true,"private":false},{"id":"param.l1br3tvn.0.rqinh65eeot","name":"recaptcha","type":"str","description":"The recaptcha check code","required":true,"private":false},{"id":"param.l1br42n0.0.wvcjhhylojn","name":"name","type":"str","description":"the user first name","required":false,"private":false},{"id":"param.l1br49sp.0.23t8vtk4rqvi","name":"lastname","type":"str","description":"the user lastname","required":false,"private":false}],"permissions":{"public":true},"returnType":"UserActivationCode","is_array":false,"returnName":"uac"},"endp.l1br4wz4.0.eo58al9mlof":{"id":"endp.l1br4wz4.0.eo58al9mlof","method":"PATCH","url":"/user/update","short_descr":"Updates the user data","description":"Updates user data.\n\nOnly the user can update him/her self.","parameters":[{"id":"param.l1br5hxz.0.29jl3tbywew","name":"email","type":"str","description":"the new user email","required":false,"private":false},{"id":"param.l1br5ly4.0.z1w6j78o9a8","name":"password","type":"str","description":"the user password","required":false,"private":false},{"id":"param.l1br5tmh.0.tk4k62aib8","name":"name","type":"str","description":"the user name","required":false,"private":false},{"id":"param.l1br5zz7.0.r0yda034jon","name":"lastname","type":"str","description":"the user lastname","required":false,"private":false}],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1br6lax.0.ecej1cjtysr":{"id":"endp.l1br6lax.0.ecej1cjtysr","method":"POST","url":"/user/avatar","short_descr":"Uploads user avatar","description":"Uploads a user avatar.\nOnly the user can update him/her self.","parameters":[{"id":"param.l1br77da.0.cmi6svvfnlo","name":"avatar","type":"file","description":"The user avatar file","required":true,"private":false}],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1ehgnyj.0.8ajrpeoly6j":{"id":"endp.l1ehgnyj.0.8ajrpeoly6j","method":"POST","url":"/user/facerec/add","short_descr":"Uploads user face","description":"Uploads a user face for face recognition.\n\nOnly the user can update him/her self.","parameters":[{"id":"param.l1ehheyg.0.58p1oqeelpk","name":"face","type":"file","description":"the user face photo","required":true,"private":false}],"permissions":{"logged":true},"returnType":"UserFaceRec","is_array":false,"returnName":"facerec"},"endp.l1ehifwu.0.59fk31r47zn":{"id":"endp.l1ehifwu.0.59fk31r47zn","method":"POST","url":"/user/password-forgot","short_descr":"Start the 'Forgot password?' process","description":"Start the 'Password forgotten' process for the user.\n\nThe call creates a temporary token for the user.\n\nIn **debug mode**  returns to the user the activation code as  ``str`` inside ``uac``.","parameters":[{"id":"param.l1ehkse4.0.cwnyn9j5p0r","name":"email","type":"str","description":"the user email","required":true,"private":false},{"id":"param.l1ehkz4j.0.jenyilcvd9l","name":"recaptcha","type":"str","description":"the recaptcha verification code","required":true,"private":false}],"permissions":{"public":true},"returnType":"str","is_array":false,"returnName":"uac"},"endp.l1ehlyhb.0.9qg74ix1x":{"id":"endp.l1ehlyhb.0.9qg74ix1x","method":"POST","url":"/user/password-reset","short_descr":"Reset the password","description":"Resets the user password.\n","parameters":[{"id":"param.l1ehmp90.0.nctsgpo6rjc","name":"email","type":"str","description":"the user email","required":true,"private":false},{"id":"param.l1ehn0y0.0.kkzevt68lii","name":"code","type":"str","description":"the activation code","required":true,"private":false},{"id":"param.l1ehn9rw.0.n8r3cdm56gb","name":"password","type":"str","description":"the new password","required":true,"private":false}],"permissions":{"public":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1ehnup2.0.9lyvqtrf7nb":{"id":"endp.l1ehnup2.0.9lyvqtrf7nb","method":"GET","url":"/user/register/activate/:code","short_descr":"Activate the user","description":"This is the activation request.","parameters":[{"id":"param.l1ehon0j.0.6yrvaoy995q","name":"code","type":"str","description":"the activation code returned by the /api/register call","required":true,"private":false}],"permissions":{"public":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1ehqbcw.0.ipgm1ntglwb":{"id":"endp.l1ehqbcw.0.ipgm1ntglwb","method":"POST","url":"/user/tag","short_descr":"Tag an user","description":"This endpoint allows you to add tags to a user.\n","parameters":[{"id":"param.l1ehqy6y.0.bk0n7ev16fo","name":"id_user","type":"str","description":"the user id","required":true,"private":false},{"id":"param.l1ehr8r7.0.b2ariaji26n","name":"tags","type":"str","description":" A list of tags to be added to the user","required":true,"private":false,"is_array":true}],"permissions":{"perm.l1ehs46k.0.zpesd9x4a8f":true,"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1ehtoh9.0.06tqd6kqf6j":{"id":"endp.l1ehtoh9.0.06tqd6kqf6j","method":"POST","url":"/user/token","short_descr":"User authentication with OAuth2","description":"This endpoint implements the user authentication with the ``OAuth2`` protocol.\n\nIf the user is known, a JWT token with the running session is returned to the system.\n","parameters":[{"id":"param.l1ehucni.0.gb2xvs1nxu7","name":"username","type":"str","description":"it must contain the user email","required":true,"private":false},{"id":"param.l1ehum5a.0.kmu745v154s","name":"password","type":"str","description":"the user password","required":true,"private":false}],"permissions":{"public":true},"returnType":"UserSessionData","is_array":false,"returnName":"__plain__"},"endp.l1ehvwmy.0.my2itwygul7":{"id":"endp.l1ehvwmy.0.my2itwygul7","method":"POST","url":"/user/login","short_descr":"Standard user login","description":"This endpoint implements the user authentication with ``login`` and ``password``.\n\nIf the user is known, a JWT token with the running session is returned to the system.","parameters":[{"id":"param.l1ehwvli.0.o3506c4ay8q","name":"email","type":"str","description":"The user email","required":true,"private":false},{"id":"param.l1ehx11c.0.ly36jagftsj","name":"password","type":"str","description":"the user password","required":true,"private":false},{"id":"param.l1ehxegz.0.39chzm3dcpj","name":"recaptcha","type":"str","description":"The recaptcha check code","required":true,"private":false}],"permissions":{"public":true},"returnType":"UserSessionData","is_array":false,"returnName":"__plain__"},"endp.l1ehybon.0.yiog0dj43w":{"id":"endp.l1ehybon.0.yiog0dj43w","method":"POST","url":"/user/login/remote","short_descr":"User login by a remote service","description":"This endpoint logs in a user authenticated by a remote service.\n\nSince this is a public call, the `challenge` parameter is used to verify that the call is from the correct service.\n\nThe `challenge` parameter is a `MD5` hash created composing (`email` + `name` + `remote_secret_key` as set in the `data.json` config file under `security / remote`).\n\nThe `avatar` parameter is optional and it can contain an absolute URL to an image avatar of the user.","parameters":[{"id":"param.l1ei0kw1.0.imyxessspm","name":"email","type":"str","description":"The user email","required":true,"private":false},{"id":"param.l1ei0t2q.0.tkgedd6b","name":"name","type":"str","description":"The user name","required":true,"private":false},{"id":"param.l1ei117n.0.i8t0gzg5svo","name":"challenge","type":"str","description":"The challenge","required":true,"private":false},{"id":"param.l1ei1a0b.0.xw0arlxxrgd","name":"avatar","type":"str","description":"The user avatar","required":false,"private":false}],"permissions":{"public":true},"returnType":"UserSessionData","is_array":false,"returnName":"__plain__"},"endp.l1ei2zl8.0.l7qxbetxwlc":{"id":"endp.l1ei2zl8.0.l7qxbetxwlc","method":"GET","url":"/user/admin/list","short_descr":"List users to the system","description":"Returns all user registered to the system.\n\nIf `domain` is specified, the list is filtered by domain.\n\nIf the user does not have the `system.admin` permission, only the users by his `domain` will be shown.\n\nIf `tag` is specified, the list is filtered by tag.","parameters":[{"id":"param.l1ei4of1.0.15ok94tcuj3","name":"tag","type":"str","description":" The tag to filter by","required":false,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":true,"returnName":"users"},"endp.l1ei57xo.0.g5oskeeewhq":{"id":"endp.l1ei57xo.0.g5oskeeewhq","method":"GET","url":"/user/logout","short_descr":"Logs out the current user","description":"This endpoint logs out the current user\n","parameters":[],"permissions":{"logged":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1ei6gqw.0.dt8p4ff4foi":{"id":"endp.l1ei6gqw.0.dt8p4ff4foi","method":"GET","url":"/user/me","short_descr":"Returns all the data of the currently logged user","description":"This endpoints returns all data related to the currently logged in user.\n","parameters":[],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1ei79x6.0.0skio0p8th5k":{"id":"endp.l1ei79x6.0.0skio0p8th5k","method":"POST","url":"/user/perms_set","short_descr":"Sets the user permissions","description":"This endpoint set the full user permissions.\n\nThe function will allow changing the permsissions only if the request comes from a logged user with the `user.perms` permission set.\n\nIf the  `system: [ 'admin' ]` permission is set to the user, it becomes a super user and can do **all** operations on the system.","parameters":[{"id":"param.l1ei8usd.0.po0moke2df","name":"id_user","type":"str","description":"The user id","required":true,"private":false},{"id":"param.l1ei911n.0.68q74a9rwvf","name":"perms","type":"UserPerms","description":"A JSON of `UserPerms` structure","required":true,"private":false}],"permissions":{"perm.l1eia53v.0.7uxv69q8j16":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1eib9dq.0.y6upxr9um1":{"id":"endp.l1eib9dq.0.y6upxr9um1","method":"POST","url":"/user/info_add","short_descr":"Adds more data to the user in the extra field","description":"This endpoint adds extra information inside the `extra` field, under the `key` specified.\n\nIf `key` was already present in the `extra` field, everything in `key` will be overwritten.\n\nNew `key`s will be added to `extra`.\n\nIf `key` is omitted (passing `''`)  the data is added to the `extra` root.","parameters":[{"id":"param.l1eiccu6.0.68vnmb8blnm","name":"key","type":"str","description":"the  main key","required":true,"private":false},{"id":"param.l1eicmg4.0.hd3eqersqu","name":"data","type":"json","description":"the new data to be added","required":true,"private":false}],"permissions":{"logged":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1eie51o.0.5y7k9d1kh8u":{"id":"endp.l1eie51o.0.5y7k9d1kh8u","method":"DELETE","url":"/user/info_del","short_descr":"Deletes a key from extra field","description":"This endpoint deletes the specified `key` from the `extra` field.\n","parameters":[{"id":"param.l1eieywp.0.vx0u8dp5po9","name":"key","type":"str","description":"The `key` to be deleted","required":true,"private":false}],"permissions":{"logged":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1eiffbg.0.dhvmbkeaf3r":{"id":"endp.l1eiffbg.0.dhvmbkeaf3r","method":"PATCH","url":"/user/profile","short_descr":"Changes data to the user profile","description":"This is the first tab 'Profile' of the UserProfile interface.\n\nYou can change data only to the current loggedin user.","parameters":[{"id":"param.l1eigdbn.0.g7hk2vz5pxg","name":"name","type":"str","description":"The user name","required":false,"private":false},{"id":"param.l1eigif4.0.at9w13gygmg","name":"lastname","type":"str","description":"The user lastname","required":false,"private":false},{"id":"param.l1eigmci.0.kcma818w1eo","name":"phone","type":"str","description":"User phone","required":false,"private":false},{"id":"param.l1eigr74.0.es75hchw53f","name":"email","type":"str","description":"user email","required":false,"private":false},{"id":"param.l1eigur5.0.ci1f3gk21g","name":"addr_street","type":"str","description":"Address street","required":false,"private":false},{"id":"param.l1eigypv.0.revugxtata","name":"addr_nr","type":"str","description":"Address street number","required":false,"private":false},{"id":"param.l1eih2xb.0.sdbrskipepq","name":"addr_zip","type":"str","description":"Address zip code","required":false,"private":false},{"id":"param.l1eih7ko.0.20irtqlq2sb","name":"addr_city","type":"str","description":"Address city","required":false,"private":false},{"id":"param.l1eihbrn.0.rvdearoopn","name":"addr_state","type":"str","description":"Address state (or probvince)","required":false,"private":false},{"id":"param.l1eihg71.0.ig089ml2i","name":"addr_country","type":"str","description":"Address country","required":false,"private":false},{"id":"param.l1eihlmc.0.5xk9bmlnrw4","name":"facebook","type":"str","description":"Facebook user name","required":false,"private":false},{"id":"param.l1eihq62.0.t5ajeyzdh3","name":"twitter","type":"str","description":"Twitter user name","required":false,"private":false},{"id":"param.l1eihtx7.0.b1ctmiuxwg9","name":"linkedin","type":"str","description":"Linkedin user name","required":false,"private":false},{"id":"param.l1eii06i.0.nuuuafc09af","name":"instagram","type":"str","description":"Instagram user name","required":false,"private":false},{"id":"param.l1eii1qt.0.8c2cwxuxf25","name":"website","type":"str","description":"User personal web site","required":false,"private":false}],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1eilbve.0.47b4mgbapvr":{"id":"endp.l1eilbve.0.47b4mgbapvr","method":"GET","url":"/user/test/create","short_descr":"Creates a demo user","description":"This endpoint creates a demo user\n","parameters":[],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1eim7ep.0.9nfzdvne0n6":{"id":"endp.l1eim7ep.0.9nfzdvne0n6","method":"PATCH","url":"/user/change/password","short_descr":"Changes the user password","description":"This is the change password functionality for UserProfile tab.\n\nYou can change data only to the current loggedin user.","parameters":[{"id":"param.l1eimwdn.0.5i1v7z92ics","name":"old_password","type":"str","description":"the old password","required":true,"private":false},{"id":"param.l1ein5wj.0.gfeii6yehlh","name":"new_password","type":"str","description":"the new password","required":true,"private":false},{"id":"param.l1einc6j.0.oe028n7hmh9","name":"recaptcha","type":"str","description":"the recaptcha verfication code","required":true,"private":false}],"permissions":{"logged":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l1eio184.0.qjz5h9yc1m8":{"id":"endp.l1eio184.0.qjz5h9yc1m8","method":"PATCH","url":"/user/set/bio","short_descr":"Creates / update users bio","description":"Use this endpoint to update user `bio` or `tagline` (or both).\n\nThe currently logged in user can only change his/her own data.","parameters":[{"id":"param.l1eiotd9.0.ap48yyp1bd7","name":"tagline","type":"str","description":"User tagline","required":false,"private":false},{"id":"param.l1eiozh9.0.qigbgur6f8b","name":"bio","type":"str","description":"User bio","required":false,"private":false}],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l1eiqcsi.0.nloacew00wm":{"id":"endp.l1eiqcsi.0.nloacew00wm","method":"PATCH","url":"/user/set/billing","short_descr":"Creates / update user billing info","description":"Creates / updates the user billing info.\n\nYou can change data only to the current loggedin user.","parameters":[{"id":"param.l1eirce7.0.hdl7y16df9o","name":"address","type":"str","description":"The street address","required":false,"private":false},{"id":"param.l1eirqsf.0.jh3i3zl5s","name":"nr","type":"str","description":"The street address number","required":false,"private":false},{"id":"param.l1eirze1.0.2vzeonfv9n2","name":"name","type":"str","description":"Address name","required":false,"private":false},{"id":"param.l1eis7q9.0.fafryfoo4wu","name":"city","type":"str","description":"Address city","required":false,"private":false},{"id":"param.l1eisga8.0.fpgbbjv1noa","name":"zip","type":"str","description":"Address postal code","required":false,"private":false},{"id":"param.l1eisncg.0.5ox833d5do5","name":"state","type":"str","description":"Address state","required":false,"private":false},{"id":"param.l1eisy06.0.2zfpm77x0vn","name":"country","type":"str","description":"Address country","required":false,"private":false},{"id":"param.l1eit7ew.0.o3xcoyyw62","name":"company_name","type":"str","description":"Company name","required":false,"private":false},{"id":"param.l1eitkfa.0.5licojsyhk8","name":"fiscal_code","type":"str","description":"Fiscal code","required":false,"private":false},{"id":"param.l1eitpy6.0.lv01f7tzspo","name":"vat_number","type":"str","description":"VAT number","required":false,"private":false},{"id":"param.l1eitxud.0.5z1b5l1kcri","name":"sdi","type":"str","description":"SDI code","required":false,"private":false},{"id":"param.l1eiu7n5.0.yajcihiu0p","name":"pec","type":"str","description":"PEC email","required":false,"private":false}],"permissions":{"logged":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l28k94cc.0.enupnd4qwf7":{"id":"endp.l28k94cc.0.enupnd4qwf7","method":"POST","url":"/user/login/metamask","short_descr":"User login by a remote service","description":"This endpoint logs in a user authenticated by a remote service.\n\nSince this is a public call, the `challenge` parameter is used to verify that the call is from the correct service.\n\nThe `challenge` parameter is a `MD5` hash created composing (`address` + `remote_secret_key` as set in the `data.json` config file under `security / remote`).","parameters":[{"id":"param.l28k94cc.0.mpdzuchq5ye","name":"address","type":"str","description":"The wallet address","required":true,"private":false},{"id":"param.l28k94cc.0.yq7ao6fi6mo","name":"challenge","type":"str","description":"The challenge","required":true,"private":false}],"permissions":{"public":true},"returnType":"UserSessionData","is_array":false,"returnName":"__plain__"},"endp.l4tp1yo4.0.e6gcuay39b":{"id":"endp.l4tp1yo4.0.e6gcuay39b","method":"GET","url":"/user/admin/get","short_descr":"Returns a user after a search","description":"This method can return a user after searching all users by some params.\n\nParams are all optional, but at least one must be given, or the current user will be returned.\n\nIf the search returns more than one single user, only the first will be returned.","parameters":[{"id":"param.l4tp3hvr.0.cbfwx2ca65o","name":"id","type":"str","description":"The user id","required":false,"private":false},{"id":"param.l4tp3mxu.0.b70uming1ql","name":"email","type":"str","description":"The user email","required":false,"private":false},{"id":"param.l4tp3zdb.0.2knikhnppsw","name":"name","type":"str","description":"The user name","required":false,"private":false},{"id":"param.l4tp45ts.0.l1n9xc7jf7","name":"lastname","type":"str","description":"The user lastname","required":false,"private":false}],"permissions":{"perm.l1bqszna.0.46y4otdjx1j":true},"returnType":"User","is_array":false,"returnName":"user"},"endp.l5i73jao.0.mtlidpnfpk":{"id":"endp.l5i73jao.0.mtlidpnfpk","method":"GET","url":"/user/remove/me","short_descr":"Removes the current user from system","description":"This method removes the current user from the system","parameters":[],"permissions":{"logged":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l7ex8n1j.0.pchp8doqvog":{"id":"endp.l7ex8n1j.0.pchp8doqvog","method":"GET","url":"/user/perms/get","short_descr":"Gets permissions for the specified user","description":"This endpoint set returns full user permissions.\n","parameters":[{"id":"param.l7ex8n1j.0.r0wozx7drls","name":"id_user","type":"str","description":"The user id","required":true,"private":false}],"permissions":{"perm.l1eia53v.0.7uxv69q8j16":true},"returnType":"boolean","is_array":false,"returnName":"ok"},"endp.l89y0wih.0.nek57z754qm":{"id":"endp.l89y0wih.0.nek57z754qm","method":"GET","url":"/user/faces/get","short_descr":"Gets all images for face recognition","description":"Return all images available for face recognition\n\nIf the `id_user` is not specified, the current logged user faces are returned.\n\nIf the `id_user` is specified, but the user does not have the `user.create` permission, the `id_user` will be the one of the currently logged user.","parameters":[{"id":"param.l89y3gfh.0.9emm44onmhw","name":"id_user","type":"str","description":"The User ID to get faces for","required":false,"private":false}],"permissions":{"logged":true},"returnType":"UserFaceRec","is_array":true,"returnName":"faces"},"endp.l8ae539s.0.p2y494hkcy":{"id":"endp.l8ae539s.0.p2y494hkcy","method":"POST","url":"/user/upload2face","short_descr":"Assigns an upload as a face to the user","description":"","parameters":[{"id":"param.l8ae5sjr.0.smdk77rcysl","name":"id_upload","type":"str","description":"The ID Upload","required":true,"private":false},{"id":"param.l8ae76vm.0.megjk447h5h","name":"id_user","type":"str","description":"The user id","required":false,"private":false}],"permissions":{"logged":true},"returnType":"UserFaceRec","is_array":false,"returnName":"face"},"endp.l8iw2d88.0.8ngp7lnhv3t":{"id":"endp.l8iw2d88.0.8ngp7lnhv3t","method":"GET","url":"/user/faces/modules","short_descr":"Load user faces modules","description":"","parameters":[],"permissions":{"public":true},"returnType":"boolean","is_array":false,"returnName":"ok"}},"types":{"type.l1bqb4se.0.6f2g9vxnv5":{"id":"type.l1bqb4se.0.6f2g9vxnv5","description":"Returned during registration process","name":"UserRegistration","fields":[{"id":"fld.l1bqbmdp.0.mkuhrt6vzlb","name":"email","type":"str","description":"The user email","required":true,"private":false},{"id":"fld.l1bqc03n.0.7928nsuf0qp","name":"password","type":"str","description":"The user password","required":true,"private":false},{"id":"fld.l1bqcd2n.0.tu26ich71a","name":"name","type":"str","description":"User first name","required":false,"private":false},{"id":"fld.l1bqck27.0.pls3vvmvq1","name":"lastname","type":"str","description":"User lastname","required":false,"private":false}],"db_clear":false,"db_table":""},"type.l1bqd149.0.995qnx9hpto":{"id":"type.l1bqd149.0.995qnx9hpto","description":"Activation code returned during registratrion","name":"UserActivationCode","fields":[{"id":"fld.l1bqdfs0.0.vjj8eu13j9","name":"code","type":"str","description":"Temporary code to complete action","required":false,"private":false}],"db_clear":false,"db_table":""},"type.l1bqdv3v.0.zi3mkuqe93":{"id":"type.l1bqdv3v.0.zi3mkuqe93","description":"The Face Recognition info","name":"UserFaceRec","fields":[{"id":"fld.l1bqeixw.0.hnjpsdxa57a","name":"id","type":"str","index":"u","description":"the main id field","required":true,"private":false},{"id":"fld.l1bqekzt.0.kyfhrk027r","name":"domain","type":"str","description":"The domain code","required":false,"private":true,"index":"y"},{"id":"fld.l1bqf2nm.0.2qmgg50xpix","name":"id_user","type":"str","description":"The user id","required":false,"private":false,"index":"y"},{"id":"fld.l1bqfil8.0.sq1rqm8fbni","name":"id_upload","type":"str","description":"The upload image id","required":false,"private":false,"index":"u"},{"id":"fld.l1bqfzsy.0.c7th1zm905p","name":"filename","type":"str","description":"The upload file name","required":false,"private":false},{"id":"fld.l1bqg94j.0.4rt9fb3g9z8","name":"path","type":"str","description":"The upload path","required":false,"private":false}],"db_clear":false,"db_table":"user_facerecs"},"type.l1bqgn8m.0.u99ddt9zsp":{"id":"type.l1bqgn8m.0.u99ddt9zsp","description":"The main user table","name":"User","fields":[{"id":"fld.l1bqgvwb.0.h99gg9n255","name":"id","type":"str","index":"u","description":"the main id field","required":true,"private":false},{"id":"fld.l1bqgyio.0.8vpe0x84cem","name":"domain","type":"str","description":"The domain code","required":true,"private":true,"index":"y"},{"id":"fld.l1bqhcsj.0.l4mxfhi69i","name":"email","type":"str","description":"The user email","required":true,"private":false,"index":"u"},{"id":"fld.l1bqhkaj.0.tpisc447gtf","name":"name","type":"str","description":"User name","required":false,"private":false},{"id":"fld.l1bqhvch.0.t0i2sap4cz","name":"lastname","type":"str","description":"User lastname","required":false,"private":false},{"id":"fld.l1bqi66f.0.clds5xe4y6s","name":"perms","type":"json","description":"User permissions","required":false,"private":false},{"id":"fld.l1bqie5c.0.heomz5oxt2","name":"enabled","type":"boolean","description":"If the user can log in or not","required":false,"private":false,"index":"y"},{"id":"fld.l1bqiv2r.0.3teo1tgx9vg","name":"level","type":"num","description":"User level","required":false,"private":false},{"id":"fld.l1bqj95a.0.tl9jc33ob4","name":"password","type":"str","description":"User login password","required":false,"private":true},{"id":"fld.l1bqjh7y.0.vvh308usxyq","name":"code","type":"str","description":"User unique code (used for registration and password recovery)","required":false,"private":true},{"id":"fld.l1bqjxvz.0.m8dlxitgw89","name":"extra","type":"json","description":"Extra items for user details (jsoninzed)","required":false,"private":false},{"id":"fld.l1bqkaya.0.ojyja4xgvu","name":"language","type":"str","description":"Preferred language","required":false,"private":false},{"id":"fld.l1bqkj2j.0.culjsy88h1r","name":"avatar","type":"str","description":"The user Avatar URL","required":false,"private":false},{"id":"fld.l1bqktdf.0.z1o0x2kjil","name":"tags","type":"str","is_array":true,"index":"*","description":"tags for the type","required":false,"private":false},{"id":"fld.l1bqkykg.0.vs2l5zk9ke","name":"id_upload","type":"str","description":"The id of the Upload object (for the avatar)","required":false,"private":true,"index":"y"},{"id":"fld.l1bql6te.0.agutmln0me5","name":"deleted","type":"date","description":"The date when the user has been deleted","required":false,"private":true,"index":"y"},{"id":"fld.l1bqlnmn.0.amm7fyfylu","name":"addresses","type":"Address","description":"Addresses binded to the user","required":false,"private":false,"is_array":true},{"id":"fld.l1bqlzib.0.fseshek7hrl","name":"facebook","type":"str","description":"Facebook account","required":false,"private":false},{"id":"fld.l1bqmack.0.vplfc40vga8","name":"twitter","type":"str","description":"Twitter account","required":false,"private":false},{"id":"fld.l1bqmh5c.0.h63q2e0foij","name":"linkedin","type":"str","description":"Linkedin account","required":false,"private":false},{"id":"fld.l1bqmpsq.0.7ja6qt21qey","name":"instagram","type":"str","description":"Instagram account","required":false,"private":false},{"id":"fld.l1bqmxra.0.zd3ad6iwrz","name":"website","type":"str","description":"Website URL","required":false,"private":false},{"id":"fld.l1bqn45v.0.xewko7fdby","name":"tagline","type":"str","description":"User tagline","required":false,"private":false},{"id":"fld.l1bqnffx.0.85qqag3ulp8","name":"bio","type":"str","description":"User bio","required":false,"private":false},{"id":"fld.l1bqnn0j.0.rtxf8u2jk4","name":"faces","type":"UserFaceRec","description":"All users Face Rec info","required":false,"private":false,"is_array":true},{"id":"fld.l28lcbl0.0.kv8ygv031ok","name":"wallet","type":"str","description":"The wallet ID","required":false,"private":false}],"db_clear":false,"db_table":"users"},"type.l1bqp1he.0.zpw3rwdxusp":{"id":"type.l1bqp1he.0.zpw3rwdxusp","description":"The user session info","name":"UserSessionData","fields":[{"id":"fld.l1bqpi29.0.2v26c98r9t6","name":"id","type":"str","index":"u","description":"the main id field","required":true,"private":false},{"id":"fld.l1bqplvu.0.ml1325zdnq","name":"access_token","type":"str","description":"The JWT access token","required":false,"private":false},{"id":"fld.l1bqpuew.0.b087nalw2ui","name":"name","type":"str","description":"The user name","required":false,"private":false},{"id":"fld.l1bqq3j6.0.09ixk0t0pnvo","name":"lastname","type":"str","description":"The user lastname","required":false,"private":false},{"id":"fld.l1bqq9gq.0.mydac5ghd2g","name":"avatar","type":"str","description":"The user avatar URL","required":false,"private":false},{"id":"fld.l1kjhf96.0.g6fy3260b3","name":"token_type","type":"str","description":"The token type (defaults to Bearer)","required":false,"private":false},{"id":"fld.l268hx0x.0.791aildeb7u","name":"perms","type":"json","description":"Array of user perms","required":false,"private":false},{"id":"fld.l28lid5v.0.o6mg2d7qabj","name":"email","type":"str","description":"The user email","required":false,"private":false}],"db_clear":false,"db_table":""},"type.l1bqqkzl.0.2kxwnhbpez3":{"id":"type.l1bqqkzl.0.2kxwnhbpez3","description":"User permissions for a given module","name":"UserPerms","fields":[{"id":"fld.l1bqqw2z.0.hcrgzomyt35","name":"module_name","type":"str","description":"The module name of the permissions","required":false,"private":false},{"id":"fld.l1bqr760.0.zhd99qcsdk","name":"permissions","type":"str","description":"The list of permissions for the given module","required":false,"private":false,"is_array":true}],"db_clear":false,"db_table":""}},"permissions":{"perm.l1bqszna.0.46y4otdjx1j":{"id":"perm.l1bqszna.0.46y4otdjx1j","name":"user.create","description":"Permission to create / modify user"},"perm.l1ehs46k.0.zpesd9x4a8f":{"id":"perm.l1ehs46k.0.zpesd9x4a8f","name":"user.tag","description":"Permission to modify user's tag"},"perm.l1eia53v.0.7uxv69q8j16":{"id":"perm.l1eia53v.0.7uxv69q8j16","name":"user.perms","description":"Permission to change user's perms"}},"functions":{"fn.l1eiuu4c.0.6g5v9s6nccx":{"id":"fn.l1eiuu4c.0.6g5v9s6nccx","name":"user_db_init","short_descr":"Initializes user module database","description":"This function initializes the module database tables.\n","parameters":[{"id":"param.l1eivjhd.0.3oljhww2lkw","name":"liwe","type":"iliwe","description":"LiWE full instance","required":true}],"returnType":"boolean","is_array":false},"fn.l1kk7a0l.0.ck8m58lfou9":{"id":"fn.l1kk7a0l.0.ck8m58lfou9","name":"user_facerec_get","short_descr":"Gets all Face Rec binded to a user","description":"Gets all Face Recs binded to a user","parameters":[{"id":"param.l1kk7khj.0.lk6pu8ahs29","name":"req","type":"ilrequest","description":"The ILRequest","required":true},{"id":"param.l1kk7ko0.0.m4ktdv3biig","name":"id_user","type":"str","description":"ID user","required":true}],"returnType":"UserFaceRec","is_array":true},"fn.l1kk8up0.0.10dwk2sc2hvo":{"id":"fn.l1kk8up0.0.10dwk2sc2hvo","name":"user_session_del","short_descr":"Deletes a session of one user","description":"Removes a session from the system.","parameters":[{"id":"param.l1kk94dz.0.qtkzju3o4bi","name":"req","type":"iliwe","description":"The ILRequest","required":true},{"id":"param.l1kk94k1.0.091fgz7d7vz3","name":"key","type":"str","description":"The Session key","required":true}],"returnType":"boolean","is_array":false},"fn.l1kk9wa1.0.7k20azbfk7r":{"id":"fn.l1kk9wa1.0.7k20azbfk7r","name":"user_session_get","short_descr":"Returns a user session by the given Token","description":"This function retrieves the session from the sessions collection, using the JWT token provided.\n\nIf the session is expired or does not exists, an empty object is returned.","parameters":[{"id":"param.l1kka6rn.0.m5r3ivhls3h","name":"req","type":"ilrequest","description":"The ILRequest","required":true},{"id":"param.l1kka6yd.0.hbal855bck","name":"tok","type":"str","description":"The JSON Web Token to decode","required":true}],"returnType":"any","is_array":false},"fn.l1kkbx8p.0.tfln186snqg":{"id":"fn.l1kkbx8p.0.tfln186snqg","name":"user_session_create","short_descr":"Creates a new session for the User","description":"This function creates a new entry in the sessions collection.\n\nIf a session for the given user already exists, it will be deleted.\n\n**NOTE** There cannot be more than one session for a given user / email at a time.","parameters":[{"id":"param.l1kkc738.0.2nat871hfd8","name":"req","type":"ilrequest","description":"The ILRequest","required":true},{"id":"param.l1kkc79d.0.udl504qtiwh","name":"user","type":"User","description":"The user to create the session to","required":true}],"returnType":"str","is_array":false}},"enums":{},"doc":"The `user` module is responsible of all the functions of the user handling.\n","short_descr":"User authentication and management","menus":{"menu.l26a0jnk.0.0l40ciivznk":{"id":"menu.l26a0jnk.0.0l40ciivznk","name":"List","description":"Manage users","path":"/admin/user/list","perm":"perm.l1bqszna.0.46y4otdjx1j"}}}}}